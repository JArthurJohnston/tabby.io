import{j as t,u as c,r as x,E as d}from"./index-BM-q5bP-.js";function m({note:s,scale:e=1,onClick:r,highlight:n}){if(!s)return;const{sharp:h,fingering:l,note:i,octave:o}=s,a=100*e;return t.jsxs("div",{className:"bordered flex col mr",style:{height:"25vh",backgroundColor:`${n?"lightblue":""}`},onClick:r,children:[Array.from(l).reverse().map(u=>t.jsx("svg",{height:100*e,width:a,xmlns:"http://www.w3.org/2000/svg",children:t.jsx("circle",{r:45*e,cx:50*e,cy:50*e,stroke:"white",fill:u==="1"?"white":u==="2"?"grey":"black"},`${i}-${o}${h&&"-sharp"}`)})),t.jsxs("p",{children:[i.toUpperCase(),h&&"#",o]})]})}function f(){const s=c();return t.jsxs("div",{className:"bordered flex col mr",children:[s.fingering.slice().reverse().map(e=>t.jsx(p,{scale:.7,children:e})),t.jsx(j,{})]})}function p({children:s,background:e="white",color:r="black",scale:n=1}){return t.jsxs("svg",{height:100*n,width:100*n,xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("circle",{r:45*n,cx:50*n,cy:50*n,fill:e}),t.jsx("text",{x:50*n,y:60*n,"font-size":30*n,"text-anchor":"middle",fill:r,children:s})]})}function j({stroke:s="white",fill:e="white",scale:r=1}){return t.jsx("svg",{height:100*r,width:100*r,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("rect",{x:35*r,y:30*r,height:30*r,width:30*r,stroke:s,fill:e,"stroke-width":"5"})})}function g(){const s=c(),[e,r]=x.useState(""),[n,h]=x.useState(""),l=o=>{const{value:a}=o.target;v.test(a)&&r(a)},i=N(e,s);return t.jsxs("div",{className:"flex col full-width bordered align-start",children:[t.jsx("input",{className:"ml mt",type:"text",style:{width:"50%"},value:n,onChange:o=>h(o.target.value)}),t.jsxs("div",{className:"flex row full-width full-height",children:[t.jsx("textarea",{className:"margins",style:{height:"95%",width:"24%",borderRadius:"0.5rem"},value:e,onChange:l}),t.jsx("div",{style:{height:"98%",overflowX:"scroll",width:"50vw"},className:"flex col ml",children:i.map(o=>t.jsx("div",{className:"flex row mb",children:o.map(a=>t.jsx(w,{note:a}))}))})]})]})}function w({note:s}){return s===d?t.jsx(E,{}):t.jsx(m,{note:s,scale:.25})}const v=/^[a-gA-G0-9\#\s]*$/;function N(s,e){return s.split(`
`).map(n=>b(n,e))}const b=(s,e)=>s.split(" ").map(r=>{let n=!1,h=null,l=null;return r===""?d:(r.split("").forEach(i=>{const o=parseInt(i);if(o){h=o;return}if(i==="#"){n=!0;return}l=i}),y(e,l,h,n))});function y(s,e,r,n){if(!e)return;const h=e.toUpperCase();let l=s.notes.filter(i=>i.note.toUpperCase()===h);return r&&n?l.find(i=>i.octave===r&&i.sharp):r&&!n?l.find(i=>i.octave===r&&!i.sharp):n?l.find(i=>i.sharp):l[0]}function E(){return t.jsxs("div",{className:"mr",style:{width:"1rem"},children:["-",t.jsx("br",{}),"-",t.jsx("br",{}),"-",t.jsx("br",{}),"-",t.jsx("br",{}),"-",t.jsx("br",{}),"-"]})}function C(){const s=c();return t.jsx("div",{className:"flex row full-width jsb",children:s.notes.map(e=>t.jsx(m,{note:e,scale:.25}))})}const $=()=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex mb",style:{height:"65vh"},children:[t.jsx(f,{}),t.jsx(g,{})]}),t.jsx(C,{})]});export{$ as component};
