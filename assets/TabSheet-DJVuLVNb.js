import{j as e,E as f}from"./index-CyMPAI_3.js";function p({note:n,scale:t=1,onClick:i,highlight:s}){if(!n)return;const{sharp:l,fingering:o,note:r,octave:u}=n,a=100*t;return e.jsxs("div",{className:"bordered flex col mr",style:{height:"25vh",backgroundColor:`${s?"lightblue":""}`},onClick:i,children:[Array.from(o).reverse().map(c=>e.jsx("svg",{height:100*t,width:a,xmlns:"http://www.w3.org/2000/svg",children:e.jsx("circle",{r:45*t,cx:50*t,cy:50*t,stroke:"white",fill:c==="1"?"white":c==="2"?"grey":"black"},`${r}-${u}${l&&"-sharp"}`)})),e.jsxs("p",{children:[r.toUpperCase(),l&&"#",u]})]})}function d(n,t){return n.split(`
`).map(s=>x(s,t))}const x=(n,t)=>n.split(" ").map(i=>{let s=!1,l=null,o=null;return i===""?f:(i.split("").forEach(r=>{const u=parseInt(r);if(u){l=u;return}if(r==="#"){s=!0;return}o=r}),h(t,o,l,s))});function h(n,t,i,s){if(!t)return;const l=t.toUpperCase();let o=n.notes.filter(r=>r.note.toUpperCase()===l);return i&&s?o.find(r=>r.octave===i&&r.sharp):i&&!s?o.find(r=>r.octave===i&&!r.sharp):s?o.find(r=>r.sharp):o[0]}function b({composition:n,instrument:t,index:i}){const{arrangement:s}=n,l=d(s,t);return e.jsx("div",{style:{height:"93%",overflowX:"scroll",width:"50vw"},className:"flex col ml",children:l.map(o=>e.jsx("div",{className:"flex row mb",children:o.map((r,u)=>e.jsx(m,{note:r},`${r?.note}-${u}`))}))})}function m({note:n}){return n===f?e.jsx(j,{}):e.jsx(p,{note:n,scale:.25})}function j(){return e.jsxs("div",{className:"mr",style:{width:"1rem"},children:["-",e.jsx("br",{}),"-",e.jsx("br",{}),"-",e.jsx("br",{}),"-",e.jsx("br",{}),"-",e.jsx("br",{}),"-"]})}export{p as N,b as T};
